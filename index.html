<!DOCTYPE html>
<html>
<head>
    <meta charset='utf-8' />
    <title></title>
    <meta name='viewport' content='initial-scale=1,maximum-scale=1,user-scalable=no' />
    <script src='https://api.tiles.mapbox.com/mapbox-gl-js/v0.44.1/mapbox-gl.js'></script>
    <link href='https://api.tiles.mapbox.com/mapbox-gl-js/v0.44.1/mapbox-gl.css' rel='stylesheet' />
    <style>
        body { margin:0; padding:0; }
        #map { position:absolute; top:0; bottom:0; width:100%; }
    </style>
</head>
<body>

<style>
#map {
    position: fixed;
    width:50%;
}
#features {
    width: 50%;
    margin-left: 50%;
    font-family: Tw Cen MT;
    overflow-y: scroll;
    background-color: #fafafa;
}
section {
    padding:  25px 50px;
    line-height: 25px;
    border-bottom: 1px solid #ddd;
    opacity: 0.25;
    font-size: 20px;
}
section.active {
    opacity: 1;
}
section:last-child {
    border-bottom: none;
    margin-bottom: 1000px;
}
</style>

<div id='map'></div>
<div id='features'>
    <section id='welcome' class='active'>
        <h3>Hey, there!</h3>
        <p>This is an itinerary test. <br><br>ðŸ¤– I'm just trying to see if this works! <br><br>Resumaps are designed to fill the gaps in your resume. If you want to stand out, a resumap is a fun way to help people get to know you. After all, wouldn't you want to know who you're hiring? So if you want see more, sit back, relax, and enjoy the flight ðŸš€</p>
    </section>
    <section id='section1' class='active'>
        <h3>Town of Uyuni</h3>
        <p>The town of Uyuni occupies a desolate corner of southwestern Bolivia. Uyuni serves as a launching pad for hundreds of travelers each week to kick off their tour of Salar de Uyuni or the Southwest Circuit through Bolivia's most beautiful and deserted desserts. Tours leave the town of Uyuni at 11:00 am. The tours consist of groups of up to 6 people who spend the next 3 days and 2 nights together in a Toyota Land Cruiser 4Ã—4. 
    </section>
    <section id='section2'>
        <h3>Train Graveyard</h3>
        <p>The first visit on day one is to Uyuniâ€™s famous train cemetery or train graveyard, which is located 3 km outside Uyuni. The Train Cemetery is one Uyuniâ€™s main tourist attractions. The train graveyard is a collection of rusty steam locomotives and railcars that date back to the 19th century. The town previously served as a distribution hub for the trains carrying minerals on their way to the Pacific Ocean ports. Plans were made to build a large network of trains based in Uyuni, but the project was abandoned due to a combination of technical difficulties and tension with neighboring countries.

Today the trains sit decaying along rusted tracks about 3km southwest of Uyuni. The Train Cemetery is a walkable distance from the city center, but it's best to visit the trains in the evening or early morning when the buses full of tourists are nowhere to be seen. </p>
    </section>
    <section id='section3'>
        <h3>Town of Colchani</h3>
        <p>You can add pictures! <br><br> <img src="https://res.cloudinary.com/martin-technologies/image/upload/v1546438126/bolivia/bolivia-potosi-uyuni-colchani-small-town-herr-stahlhoefer-focus-2000w-min.jpg"><br><br></p>
    </section>
    <section id='section4'>
        <h3>Salar de Uyuni</h3>
        <p>Or even gifs! <br><br><iframe src="https://giphy.com/embed/fpXxIjftmkk9y" width="224" height="240" frameBorder="0" class="giphy-embed" allowFullScreen></iframe><p></p>
        </p>
    </section>
    <section id='section5'>
        <h3>Isla Incahuasi</h3>
        <p>Or videos! WHAT!<br><br><iframe width="560" height="315" src="https://www.youtube.com/embed/le0BLAEO93g" frameborder="0" allow="autoplay; encrypted-media" allowfullscreen></iframe> </p>
    </section>
    <section id='section6'>
        <h3>VolcÃ¡n OllagÃ¼e</h3>
        <p>The most important thing is to tell <i>your</i> story. What makes you you?</p>
    </section>
    <section id='section7'>
        <h3>Laguna Hedionda</h3>
        <p>Have fun!<br><br><iframe src="https://giphy.com/embed/lJNoBCvQYp7nq" width="300" height="300" frameBorder="0" class="giphy-embed" allowFullScreen></iframe><p></p></p>
    </section>
</div>
<script>
mapboxgl.accessToken = 'pk.eyJ1Ijoic291dGhhbWVyaWNhIiwiYSI6ImNqcjJlbHd3ZDA0c3E0M3FmZTVsZTFxZzAifQ.twI1LfxACj9bgtIcSXEj_A';
var map = new mapboxgl.Map({
    container: 'map',
    style: 'mapbox://styles/southamerica/cjrfrwjer1arr2sp8pa04bc83',
        bearing: -0,
        center: [-65.866174, -24.272291],
        zoom: 2,
        speed: 0.8,
        pitch: 0
});
var chapters = {
    'welcome': {
        bearing: -0,
        center: [-65.866174, -24.272291],
        zoom: 2,
        speed: 0.8,
        pitch: 0
    },
    'section1': {
        bearing: 0,
        center: [-66.8261, -20.4604],
        zoom: 15.18,
        pitch: 0
    },
    'section2': {
        center: [-66.83784, -20.481473],
        bearing: 54.40,
        zoom: 15.59,
        speed: 0.6,
        pitch: 44.50
    },
    'section3': {
        bearing: 12.80,
        center: [-66.9363, -20.2992],
        zoom: 16.18,
        speed: 0.6,
        pitch: 0.00
    },
    'section4': {
        bearing: 60,
        center: [-67.4891, -20.1338],
        zoom: 8,
        speed: 0.6,
        pitch: 45
    },
    'section5': {
        bearing: 15.20,
        center: [-67.6254788, -20.2421841],
        zoom: 15.56,
        pitch: 40.50,
        speed: 0.6
    },
    'section6': {
        bearing: 0,
        center: [-68.1792, -21.3025],
        zoom: 10.53,
        pitch: 0,
        speed: 0.6
    },
    'section7': {
        bearing: -0,
        center: [-68.0475, -21.5683],
        zoom: 14.18,
        speed: 0.8,
        pitch: 0
    },
};
// On every scroll event, check which element is on screen
window.onscroll = function() {
    var chapterNames = Object.keys(chapters);
    for (var i = 0; i < chapterNames.length; i++) {
        var chapterName = chapterNames[i];
        if (isElementOnScreen(chapterName)) {
            setActiveChapter(chapterName);
            break;
        }
    }
};
var activeChapterName = 'baker';
function setActiveChapter(chapterName) {
    if (chapterName === activeChapterName) return;
    map.flyTo(chapters[chapterName]);
    document.getElementById(chapterName).setAttribute('class', 'active');
    document.getElementById(activeChapterName).setAttribute('class', '');
    activeChapterName = chapterName;
}
function isElementOnScreen(id) {
    var element = document.getElementById(id);
    var bounds = element.getBoundingClientRect();
    return bounds.top < window.innerHeight && bounds.bottom > 0;
}
</script>
</body>
</html> 
